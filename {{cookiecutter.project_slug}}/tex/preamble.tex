%==========%
% Preamble %
%==========%

%=== Language ===%
\usepackage[<< cookiecutter.language >>]{babel}

%=== 'geometry' package ===%
\usepackage{geometry}

%=== Colors ===%
\usepackage[svgnames]{xcolor}
\newcommand{\sectioncolor}{\color{purple}}

%=== 'hyperref' package ===%
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
}

%=== 'graphicx' package ===%
\usepackage{graphicx}

%=== Document title ===%
\usepackage{titling}

\pretitle{\begin{center}\huge\sffamily\bfseries}
\posttitle{\end{center}}

\preauthor{\begin{center}\Large\sffamily\begin{tabular}[t]{c}}
\postauthor{\end{tabular}\end{center}}

\predate{\begin{center}\Large\sffamily}
\postdate{\end{center}}

%=== Section titles ===%
\usepackage{titlesec}

<% if cookiecutter.documentclass == "book" or cookiecutter.documentclass == "report" %>
\titleformat{\part}[display]{\Huge\bfseries\filcenter}
  {\sectioncolor{}\scalebox{2.5}{\thepart}}
  {1ex}{}

\titleformat{\chapter}{\LARGE\sffamily\bfseries}
  {\sectioncolor{}\scalebox{2.25}{\thechapter}}
  {1ex}{}

<% endif %>
\titleformat{\section}{\Large\sffamily\bfseries}
  {\sectioncolor{}{\normalfont\sffamily\S}\thesection}
  {1ex}{}

\titleformat{\subsection}{\large\sffamily\bfseries}
  {\sectioncolor{}\thesubsection}
  {1ex}{}

\titleformat{\subsubsection}{\sffamily\bfseries}
  {\sectioncolor{}\thesubsubsection}
  {1ex}{}

%=== Header and footer ===%
\usepackage{fancyhdr}
\pagestyle{fancy}

\setlength{\headheight}{14pt}
\addtolength{\topmargin}{-2pt}

<% if cookiecutter.twoside %>
<% if cookiecutter.documentclass == "book" or cookiecutter.documentclass == "report" %>

<% else %>

<% endif %>
<% else %>
<% if cookiecutter.documentclass == "book" or cookiecutter.documentclass == "report" %>
\renewcommand{\chaptermark}[1]{%
  \markboth{\thechapter.\ #1}{}}

\fancyhf{}
\fancyhead[L]{\sffamily\bfseries\nouppercase{\leftmark}}
\fancyhead[R]{\sffamily\bfseries\thepage}
\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\sffamily\thepage}
}
<% else %>
\renewcommand{\sectionmark}[1]{%
  \markboth{\thesection.\ #1}{}}

\fancyhf{}
\fancyhead[L]{\sffamily\bfseries\nouppercase{\leftmark}}
\fancyhead[R]{\sffamily\bfseries\thepage}
\fancypagestyle{plain}{
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \fancyfoot[C]{\sffamily\thepage}
}
<% endif %>
<% endif %>

%=== Mathematics ===%
\usepackage{mathtools}
\mathtoolsset{centercolon}

\usepackage{amssymb}

%== Math environments ==%
\usepackage{amsthm}
\usepackage{thmtools}

\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{MediumBlue},
  headpunct={},
  postheadspace=1em,
  spaceabove=1em,
  spacebelow=1em,
]{thmblue}
\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{FireBrick},
  headpunct={:},
  spaceabove=1em,
  spacebelow=1em,
]{thmred}
\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{ForestGreen},
  headpunct={ ---},
  spaceabove=1em,
  spacebelow=1em,
]{thmgreen}
\declaretheoremstyle[
  headfont=\sffamily\bfseries\color{black},
  spaceabove=1em,
  spacebelow=1em,
]{thmblack}

%= Numbered math environments =%
\declaretheorem[name=Teorema, style=thmblue, numberwithin=section]{theorem}
\declaretheorem[name=Proposición, style=thmblue, sibling=theorem]%
  {proposition}
\declaretheorem[name=Corolario, style=thmblue, sibling=theorem]{corollary}
\declaretheorem[name=Lema, style=thmblue, sibling=theorem]{lemma}
\declaretheorem[name=Conjetura, style=thmblue, sibling=theorem]{conjecture}
\declaretheorem[name=Definición, style=thmred, sibling=theorem]{definition}
\declaretheorem[name=Notación, style=thmred, sibling=theorem]{notation}
\declaretheorem[name=Ejemplo, style=thmgreen, sibling=theorem]{example}
\declaretheorem[name=Nota, style=thmgreen, sibling=theorem]{remark}
\declaretheorem[name=Problema, style=thmblack, numberwithin=section]%
  {problem}
\declaretheorem[name=Custión, style=thmblack, numberwithin=section]%
  {question}
\declaretheorem[name=Ejercicio, style=thmblack, numberwithin=section]%
  {exercise}

%= Unnumbered math environments =%
\declaretheorem[name=Teorema, style=thmblue, numbered=no]{theorem*}
\declaretheorem[name=Proposición, style=thmblue, numbered=no]{proposition*}
\declaretheorem[name=Corolario, style=thmblue, numbered=no]{corollary*}
\declaretheorem[name=Lema, style=thmblue, numbered=no]{lemma*}
\declaretheorem[name=Conjetura, style=thmblue, numbered=no]{conjecture*}
\declaretheorem[name=Definición, style=thmred, numbered=no]{definition*}
\declaretheorem[name=Notación, style=thmred, numbered=no]{notation*}
\declaretheorem[name=Ejemplo, style=thmgreen, numbered=no]{example*}
\declaretheorem[name=Nota, style=thmgreen, numbered=no]{remark*}
\declaretheorem[name=Problema, style=thmblack, numbered=no]{problem*}
\declaretheorem[name=Custión, style=thmblack, numbered=no]{question*}
\declaretheorem[name=Ejercicio, style=thmblack, numbered=no]{exercise*}
